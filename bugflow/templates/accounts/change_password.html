{% extends 'base.html' %}

{% load widget_tweaks %}


{% block title %}
    {{ block.super }} - Trocar Senha
{% endblock title %}


{% block body %}
    <div class="container">
        <h1>Trocar Senha</h1>

        {% if messages %}
            <div class="alert alert-danger" role='alert'>
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
            </div>
        {% endif %}
            
        <form method='post'>
        {% csrf_token %}

            <div class="form-group">
                <label for="">Usu√°rio:</label>
                {{ user.username }}
            </div>

            <div class="form-group">
                <label for="">Senha antiga</label>
                {{ form.old_password|add_class:'form-control' }}
            </div>

            {% if form.old_password.errors %}
                <div class="form-group">
                    <div class="alert alert-warning" role="alert">
                        {{ form.old_password.errors.as_text }}
                    </div>
                </div>
            {% endif %}

            <div class="form-group">
                <label for="">Nova senha</label>
                {{ form.new_password1|add_class:'form-control' }}
            </div>

            {% if form.new_password1.errors %}
                <div class="form-group">
                    <div class="alert alert-warning" role="alert">
                        {{ form.new_password1.errors.as_text }}
                    </div>
                </div>
            {% endif %}

            <div class="form-group">
                <label for="">Repita senha</label>
                {{ form.new_password2|add_class:'form-control' }}
            </div>

            {% if form.new_password2.errors %}
                <div class="form-group">
                    <div class="alert alert-warning" role="alert">
                        {{ form.new_password2.errors.as_text }}
                    </div>
                </div>
            {% endif %}

            <div class="form-group">
                <button type='submit' class="btn btn-primary">Atualizar</button>
            </div>
        </form>
    </div>
{% endblock body %}
    